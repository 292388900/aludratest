<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-12-03 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141203" />
    <meta http-equiv="Content-Language" content="en" />
    <title>AludraTest &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>AludraTest</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-12-03
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 2.7.0-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Using AludraTest</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>User Guide</a>
          </li>
                
      <li>
  
                          <a href="actionwordlibrary.html" title="Action Word Libraries">
          <i class="none"></i>
        Action Word Libraries</a>
            </li>
                
      <li>
  
                          <a href="service-configuration.html" title="Service Configuration">
          <i class="none"></i>
        Service Configuration</a>
            </li>
                
      <li>
  
                          <a href="log4testing-user-guide.html" title="Log4Testing">
          <i class="none"></i>
        Log4Testing</a>
            </li>
                
      <li>
  
                          <a href="codechecks.html" title="Code Checks">
          <i class="none"></i>
        Code Checks</a>
            </li>
                
      <li>
  
                          <a href="aludra-pmd-rules.html" title="PMD Ruleset">
          <i class="none"></i>
        PMD Ruleset</a>
            </li>
                              <li class="nav-header">AludraTest Services</li>
                              
      <li>
  
                          <a href="fileservice.html" title="File Service">
          <i class="none"></i>
        File Service</a>
            </li>
                
      <li>
  
                          <a href="flatfileservice.html" title="FlatFile Service">
          <i class="none"></i>
        FlatFile Service</a>
            </li>
                
      <li>
  
                          <a href="separatedfileservice.html" title="SeparatedFile Service">
          <i class="none"></i>
        SeparatedFile Service</a>
            </li>
                              <li class="nav-header">Extending AludraTest</li>
                              
      <li>
  
                          <a href="aludratest-developer-guide.html" title="Developer Guide">
          <i class="none"></i>
        Developer Guide</a>
            </li>
                
      <li>
  
                          <a href="developing-service.html" title="Develop a Service">
          <i class="none"></i>
        Develop a Service</a>
            </li>
                
      <li>
  
                          <a href="fileservice-developer-guide.html" title="FileService Developer Guide">
          <i class="none"></i>
        FileService Developer Guide</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <?xml version='1.0' encoding='utf-8' ?><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="AludraTest_User_Guide">AludraTest User Guide</h1><h2 id="Basic_Usage">Basic Usage</h2><h3 id="Base_Requirements">Base Requirements</h3><p>For using AludraTest, each test class must</p><ul><li>extend the class <b>org.aludratest.AludraTestCase</b> and</li><li>mark each test method with an annotation of type <b>org.aludratest.testcase.Test</b></li></ul><p>A minimal test case would be:</p><div class="source"><pre class="prettyprint">import org.aludratest.AludraTestCase;
import org.aludratest.testcase.Test;

public class MyTestClass extends AludraTestCase {

  @Test
  public void myTestMethod() {
  	logInfo("myTestMethod was called");
  }
}
</pre></div><h3 id="Set-up_and_tear-down_methods">Set-up and tear-down methods</h3><p>Often, certain functionality has to be invoked before (set-up) or after (tear-down) test execution. This can be achieved by putting relevant code into particular methods. Such methods have the following requirements:</p><ul><li>be <b>public</b></li><li>do not be <b>static</b></li><li>have return type <b>void</b></li><li>have a <b>@Before</b> (set-up) or <b>@After</b> (tear-down) annotation</li></ul><p>Any test class may have several methods marked with @Before or @After, also inherited methods are executed.</p><p>If a test class has several test methods, each @Before method is called before each test method and each @After method after each test method.</p><p>Example:</p><div class="source"><pre class="prettyprint">import org.aludratest.testcase.After;
import org.aludratest.testcase.AludraTestCase;
import org.aludratest.testcase.Before;
import org.aludratest.testcase.Test;

public class MyTestClass extends AludraTestCase {

  @Before
  public void setUp() {
      System.out.println("setUp()");
  }

  @After
  public void tearDown() {
      System.out.println("tearDown()");
  }

  @Test
  public void myTestMethod() {
  	logInfo("myTestMethod was called");
  }
}
</pre></div><h3 id="Parameterization_of_tests">Parameterization of tests</h3><p>Test methods can have parameters to receive test data from files, e.g. an Excel sheet. For this purpose the annotation <b>org.aludratest.testcase.data.Source</b> can be used.</p><p>There are two different ways to apply the annotation: To a method or to method parameters.</p><h4 id="Method_Data_Source">Method Data Source</h4><p>When applied to a method, each column of the data source is mapped to the primitive-typed method parameter of the same index:</p><div class="source"><pre class="prettyprint">import org.aludratest.testcase.AludraTestCase;
import org.aludratest.testcase.data.Source;
import org.aludratest.testcase.Test;

@Parallel
public class MyTestClass extends AludraTestCase {
	
  @Test
  @Source(uri="testSource.xls", segment="sheet1")
  public void testActivityLogic(Date date, int value) {
  	logInfo("test data: " + date + ", " + value);
  }
}
</pre></div><h4 id="Parameter_Data_Source">Parameter Data Source</h4><p>Alternatively a data dource can be applied to a method parameter of JavaBean type. Then, data source column names are mapped to JavaBean properties. Even recursive JavaBean graphs can be constructed from a data source like an Excel sheet:</p><div class="source"><pre class="prettyprint">import org.aludratest.testcase.AludraTestCase;
import org.aludratest.testcase.data.Source;
import org.aludratest.testcase.Test;

@Parallel
public class MyTestClass extends AludraTestCase {
	
  @Test
  public void testActivityLogic(@Source(uri="testSource.xls", segment="sheet1") TestData data) {
  	logInfo("test data: " + data);
  }
}
</pre></div><p>A sample Excel sheet content:</p><div class="source"><pre class="prettyprint">name   child.name
parent child1
parent child2
</pre></div><p>The TestData class may be defined like this:</p><div class="source"><pre class="prettyprint">public class TestData {
   private String name;
   private Child child;
   
   public String getName() {
       return this.name;
   }
   
   public void setName(String name) {
       this.name = name;
   }
   
   public Child getChild() {
       return this.child;
   }
   
   public void setChild(Child child) {
       this.child = child;
   }
}
</pre></div><p>with the Child class:</p><div class="source"><pre class="prettyprint">public class Child {
   private String name;
   
   public String getName() {
       return this.name;
   }
   
   public void setName(String name) {
       this.name = name;
   }
}
</pre></div><p>Remember that the data classes must comply to JavaBeans conventions:</p><ul><li>Have a public default constructor (or none at all)</li><li>Provide getter and setter methods for each property</li></ul><h3 id="Controlling_Test_Concurrency">Controlling Test Concurrency</h3><p>On the lowest level, a test method may be annotated with the annotation <b>org.aludratest.testcase.Parallel</b> to allow for concurrent test execution or with <b>org.aludratest.testcase.Sequential</b> to forbid it. If no such annotation is applied, concurrency characteristics are inherited from the test class or an outer test suite (or suite hierarchy). Each of the elements, suite, class and test method support these concurrency annotations. If no annotation was specified at all, it is assumed that concurrent execution of all tests is allowed.</p><p>Example:</p><div class="source"><pre class="prettyprint">import org.aludratest.testcase.AludraTestCase;
import org.aludratest.testcase.Parallel;
import org.aludratest.testcase.data.Source;
import org.aludratest.testcase.Test;

@Parallel
public class MyTestClass extends AludraTestCase {

  @Test
  @Source(uri="testSource.xls", segment="sheet1")
  public void testActivityLogic(TestData data) {
  	logInfo("test data: " + data);
  }
}

</pre></div><h3 id="Defining_test_suites">Defining test suites</h3><p>A test suite is defined as an empty Java classes with a <b>org.aludratest.Suite</b> annotation which lists the suite components. Each suite component may be a simple test class or a suite itself. Thus, suite structures can be nested arbitrarily deeply.</p><p>Example:</p><div class="source"><pre class="prettyprint">import org.aludratest.junit.AludraTestJUnitSuite;

@AludraTestJUnitSuite({ MyTestClass.class, MyOtherTestClass.class })
public class MyTestSuite {
}
</pre></div><p>As mentioned before, suite classes can be annotated with <b>org.aludratest.testcase.Parallel</b> or <b>org.aludratest.testcase.Sequential</b> to control execution concurrency of their components:</p><div class="source"><pre class="prettyprint">import org.aludratest.Parallel;
import org.aludratest.Suite;

@Suite({ MyTestClass.class, ActivityLogic2.class })
@Parallel
public class MyTestSuite {
}
</pre></div><h3 id="Starting_a_Test_Case_or_Suite_in_Eclipse">Starting a Test Case or Suite in Eclipse</h3><p>In order to start tests in Eclipse, a generic 'Eclipse run configuration' needs to be defined. This is a one-time-effort, after which you can execute any test with this generic configuration.</p><h3 id="Creating_a_Run_Configuration">Creating a Run Configuration</h3><ol><li>Open the Eclipse Run Configurations dialog</li><li>Create a new "Java Application" run configuration </li><li>Change the name to "AludraTest"</li><li>As project, select your client project which contains the test class(es)</li><li>As main class, select <code>org.aludratest.app.AludraSuiteRunner</code></li><li>Select the "Arguments" tab</li><li>In the text area "Program arguments", enter <code>${resource_path}</code></li><li>Click "Run"</li></ol><p>Now the test class is executed. Please note that the test class must be the <b>active editor</b> in Eclipse when you click
on "Run".</p><h3 id=".28Re.29using_the_run_configuration">(Re)using the run configuration</h3><p>You can reuse this single run configuration to run any individual test: Select the test class in the Package Explorer, then click the triangle on the right of the "Run" button and click "AludraTest" in the appearing list.</p><p><img border="0" src="./images/AludraTest2-Eclipse-3.png"/></p><h3 id="Creating_an_eclipse_Run_Configuration_with_JUnit">Creating an eclipse Run Configuration with JUnit</h3><p>Testcases can be executed locally with the use of JUnit functions in Eclipse. Follow the guideline below:</p><ul><li>Create a class <b>AludraJUnitTest.java</b> in your project</li></ul><div class="source"><pre class="prettyprint">package com.acme.mytests.junit;

import org.aludratest.junit.AludraTestJUnitSuite;
import org.junit.runner.RunWith;

@RunWith(AludraTestJUnitSuite.class)
public class AludraJUnitTest {
}
</pre></div><ul><li>Create a <b>JUnit</b> run configuration which executes exactly this class. Add this as a <b>VM argument</b> on the second tab:</li></ul><div class="source"><pre class="prettyprint">-Dsuite=${resource_path} 
</pre></div><p>Now you can reuse this single run configuration to run any individual test: Select the test class in the Package Explorer, then click the triangle on the right of the "Run" button and click "AludraTest" in the appearing list.</p><h3 id="Executing_a_Test_Case_or_Suite_in_Maven">Executing a Test Case or Suite in Maven</h3><div class="source"><pre class="prettyprint">TODO
</pre></div><h3 id="Configuring_AludraTest">Configuring AludraTest</h3><p>AludraTest has a complex configuration engine. Most settings have a default value, so you do not have to configure
anything to run your first tests. But if you plan to e.g. run web application tests using Selenium, you will definitely
have to configure something. </p><p>For general information about the configuation engine, see <a href="./service-configuration.html" title="Service Configuration">Service Configuration</a>.</p><p>For specific information about the configuration options for AludraTest or components of AludraTest, see <a href="./aludratest-services.html" title="AludraTest Services">AludraTest Services</a>.</p><h2 id="Advanced_Topics">Advanced Topics</h2><h3 id="Excel_Collection_Mapping">Excel Collection Mapping</h3><h4 id="Example_Model">Example Model</h4><p>Imagine a DataClass model with the classes Country, State and City, interrelated with Java collections:</p><p><img border="0" src="./images/Geo-collection-mapping-beans.png"/></p><h4 id="DataClasses">DataClasses</h4><p>The model above is implemented with the following classes:</p><div class="source"><pre class="prettyprint">public class CountryData extends Data {
	
   private String id;
   private String name;
   private List&lt;StateData> states = new ArrayList&lt;StateData>();

   public String getId() {
       return id;
   }

   public void setId(String id) {
       this.id = id;
   }

   public String getName() {
       return name;
   }

   public void setName(String name) {
       this.name = name;
   }

   public List&lt;StateData> getStates() {
       return states;
   }

   public void setStates(List&lt;StateData> states) {
       this.states = states;
   }
}
</pre></div><div class="source"><pre class="prettyprint">public class StateData extends Data {

   private String id;
   private String name;
   private List&lt;CityData > cities = new ArrayList&lt;CityData >();

   public String getId() {
       return id;
   }

   public void setId(String id) {
       this.id = id;
   }

   public String getName() {
       return name;
   }

   public void setName(String name) {
       this.name = name;
   }

   public List&lt;CityData > getCities() {
       return cities;
   }

   public void setCities(List&lt;CityData > cities) {
       this.cities = cities;
   }
}
</pre></div><div class="source"><pre class="prettyprint">public class CityData extends Data {

   private String name;

   public String getName() {
       return name;
   }

   public void setName(String name) {
       this.name = name;
   }
}
</pre></div><h4 id="Excel_Sheet_Mapping">Excel Sheet Mapping</h4><p>Data of such a recursive collection mapping can be represented in Excel documents in the following manner:</p><ol><li>Create a 'country' tab with columns 'id', 'name' and 'states'</li><li>In the country tab, create one row for each country, entering id and name data as usual</li><li>For each country create a dedicated Excel tab that contains all states of the country, e.g. named 'states_de', with the columns 'id', 'name' and 'cities'</li><li>In the country tab, declare the tab name containing the related data, entering 'tab:' followed by the tab name in the 'states' cell</li><li>In the states tab, create one row for each state in the related country and create cities tabs for enumerating the cities</li></ol><h4 id="Excel_Sheet_Example">Excel Sheet Example</h4><p>As an example one can map the following hierarchy</p><div class="source"><pre class="prettyprint">Germany           (Country)
+- Bayern         (State)
|  +- München     (City)
|  +- Regensburg  (City)
+- Hessen         (State)
  +- Kassel      (City)
  +- Wiesbaden   (City)

Italy             (Country)
+- Veneto         (State)
|  +- Verona      (City)
|  +- Venezia     (City)
+- Lomabardia     (State)
  +- Milano      (City)
  +- Bergamo     (City)
</pre></div><p><br/>using this Excel document structure (having all the tabs in the same Excel document):</p><p><img border="0" src="./images/Geo-collection-mapping-excel.png"/></p><h4 id="Data_Consumption_in_a_Test_Case">Data Consumption in a Test Case</h4><p>When consuming this data in an AludraTest method like this:</p><div class="source"><pre class="prettyprint">@Test
public void testInbound(@Source(uri =  "country.ent.xls", segment = "countries") CountryData country) {
   System.out.println(country.getName());
}
</pre></div><p>The test method is executed twice, once with country Germany, once with country Italy having them wired with all their states and cities.</p><h3 id="Skipping_initial_Rows_in_an_Excel_Sheet">Skipping initial Rows in an Excel Sheet</h3><p>When certain data sets of an Excel sheet require further examination, one can temporarily configure the test method to skip the first n rows, applying the annotation org.aludratest.annotations.test.Offset to the test method, for example for skipping the first 5 data rows:</p><div class="source"><pre class="prettyprint">@Test
@Offset(5)
public void test(@Source(uri = "myfile.ent.xls", segment = "mytab") MyData data) {
   ...
}
</pre></div><h3 id="Generating_Excel_Documents">Generating Excel Documents</h3><p>AludraTest provides a feature to generate Excel documents based on a test method's signature and annotations. There is a GUI and a command line version that allows you to create an Eclipse run configuration for generating Excel documents:</p><h4 id="Excel_Generation_GUI">Excel Generation GUI</h4><p>The Excel Generation GUI is tarted by launching the main class <b>org.aludratest.app.excelwizard.ExcelWizard</b>. It scans the current project folder for (already compiled) AludraTest test cases and displays them in a list.</p><p>Using a filter text, the user can filter the test cases by substring:</p><p><br/><img border="0" src="./images/Excel-wizard.png"/></p><p><br/>When selecting a test case from the list, the 'Test Method' dropdown box is updated to display all test methods that have @Source annotations.</p><p>The user can then select one and click 'Create Excel Sheet'. The wizard will then create an empty Excel sheets that contains a 'config' tab and data tabs that reflect the structure of the annotated method parameters:</p><p><br/><img border="0" src="./images/Generated-excel.png"/></p><h4 id="Excel_Generation_in_Eclipse">Excel Generation in Eclipse</h4><p>For generating Excel documents in Eclipse, first create a "Java Application" run configuration that uses the project which contains the test class and set the main class to <b>org.aludratest.app.excelwizard.CLIExcelCreator</b>.</p><p>On second tab "Arguments", in the field 'Program Arguments' enter ${java_type_name}.</p><p>In order to execute the generator, select the test class in the Eclipse package explorer and start the new Run Configuration.</p></body></html>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.aludratest.org/">aludratest.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
