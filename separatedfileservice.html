<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-12-03 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141203" />
    <meta http-equiv="Content-Language" content="en" />
    <title>AludraTest &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>AludraTest</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2014-12-03
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 2.7.0-SNAPSHOT
                      </li>
                      
                
                    
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Using AludraTest</li>
                              
      <li>
  
                          <a href="user-guide.html" title="User Guide">
          <i class="none"></i>
        User Guide</a>
            </li>
                
      <li>
  
                          <a href="actionwordlibrary.html" title="Action Word Libraries">
          <i class="none"></i>
        Action Word Libraries</a>
            </li>
                
      <li>
  
                          <a href="service-configuration.html" title="Service Configuration">
          <i class="none"></i>
        Service Configuration</a>
            </li>
                
      <li>
  
                          <a href="log4testing-user-guide.html" title="Log4Testing">
          <i class="none"></i>
        Log4Testing</a>
            </li>
                
      <li>
  
                          <a href="codechecks.html" title="Code Checks">
          <i class="none"></i>
        Code Checks</a>
            </li>
                
      <li>
  
                          <a href="aludra-pmd-rules.html" title="PMD Ruleset">
          <i class="none"></i>
        PMD Ruleset</a>
            </li>
                              <li class="nav-header">AludraTest Services</li>
                              
      <li>
  
                          <a href="fileservice.html" title="File Service">
          <i class="none"></i>
        File Service</a>
            </li>
                
      <li>
  
                          <a href="flatfileservice.html" title="FlatFile Service">
          <i class="none"></i>
        FlatFile Service</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>SeparatedFile Service</a>
          </li>
                              <li class="nav-header">Extending AludraTest</li>
                              
      <li>
  
                          <a href="aludratest-developer-guide.html" title="Developer Guide">
          <i class="none"></i>
        Developer Guide</a>
            </li>
                
      <li>
  
                          <a href="developing-service.html" title="Develop a Service">
          <i class="none"></i>
        Develop a Service</a>
            </li>
                
      <li>
  
                          <a href="fileservice-developer-guide.html" title="FileService Developer Guide">
          <i class="none"></i>
        FileService Developer Guide</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                      
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <?xml version='1.0' encoding='utf-8' ?><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/></head><body><h1 id="SeparatedFileService_User_Guide">SeparatedFileService User Guide</h1><p>The SeparatedFileService provides data import from and export to separated files, typically comma- or tab-separated. File data is mapped from and to data class properties. Version headers are supported, besides of them, all rows of a separated file are supposed to have the same data structure and map to the same data class.</p><h2 id="Configuration">Configuration</h2><p>There is no specific configuration required for the SeparatedFileService.</p><p>A SeparatedFileService uses a FileService for the low-level file operations. If you e.g. retrieve a SeparatedFileService with</p><div class="source"><pre class="prettyprint">SeparatedFileService sfService = getService(ComponentId.create(SeparatedFileService.class, "myInterface"));

</pre></div><p>Then, internally, a FileService will be allocated with exactly the same instance name - as if you would call</p><div class="source"><pre class="prettyprint">getService(ComponentId.create(FileService.class, "myInterface"));
</pre></div><p>So all FileService configuration elements (encoding, linefeeds etc.) apply indirectly.</p><h2 id="SeparatedFileBeans">SeparatedFileBeans</h2><p>The SeparatedFileService supports the use of so-called 'SeparatedFileBeans' which carry plain data content as well as a column index (and a currently ignored format specification) for their associated separated file type.</p><h3 id="SeparatedFileBean_Requirements">SeparatedFileBean Requirements</h3><p>SeparatedFileBeans must comply with the following conditions:</p><ul><li>have a public no-arg constructor</li><li>provide any data by public attributes</li><li>annotate each attribute to be exported with a SeparatedColumn annotation</li><li>have a 'flat' structure; no navigation among bean property graphs is supported</li></ul><h3 id="SeparatedColumn">SeparatedColumn</h3><p>A SeparatedFileBean's attributes are configured with their (1-based) index using the @SeparatedColumn annotation.</p><p>Example:</p><div class="source"><pre class="prettyprint">@SeparatedColumn(columnIndex = 1)
public String city;
</pre></div><p>The <b>columnIndex</b> denotes the character offset from the beginning of the row. The first column has the index 1.</p><p>The <b>format</b> defines an optional pattern for formatting/parsing the attribute. It may be specified in two different manners:</p><ol><li>A date/time format, declared by a leading <b>D</b> and followed by a date/timepattern as understood by the Java SimpleDateFormat class. Example: DyyyyMMdd</li><li>A number format, declared by a leading <b>N</b> and followed by a number pattern as understood by the Java DecimalFormat class. Example: N000.00</li></ol><p>Examples are:</p><ul><li>DyyyyMMdd</li><li>N0000.00</li></ul><p>Currently, the <b>format</b> setting is ignored, since all data class property types must be strings (or other data classes) and thus no parsing or formatting can be applied. But it is considered good practice to track format information for the sake of documentation.</p><h3 id="SeparatedFileBean_Example">SeparatedFileBean Example</h3><p>All attributes of a SeparatedFileBean must be configured to be formatted without gaps or duplicate columns in the @SeparatedColumn annotations. The lowest columnIndex must be 1.</p><p>An example with a simple Address class:</p><div class="source"><pre class="prettyprint">public class Address {

   @SeparatedColumn(columnIndex = 1)
   public String street;

   @SeparatedColumn(columnIndex = 2)
   public String city;

   @SeparatedColumn(columnIndex = 3, format="N0000.00")
   public double num;

   public Address() {
       this(null, null, 0);
   }

   public Address(String street, String city, double num) {
       this.street = street;
       this.city = city;
       this.num = num;
   }
}
</pre></div><h3 id="Writing_SeparatedFileBeans">Writing SeparatedFileBeans</h3><p>SeparatedFileBeans like the Address above can be written using an appropriate SeparatedFileWriter, e.g. an AddressWriter:</p><div class="source"><pre class="prettyprint">SeparatedFileService service = getService(new ServiceId("septest", SeparatedFileService.class));
AddressWriter writer = new AddressWriter(service);
writer.writeAddress(new Address("MAIN STREET 321", "NEW YORK", 123.45));
writer.writeAddress(new Address("2ND STREET 4321", "JERSEY", 3.8));
writer.close();
</pre></div><h3 id="Reading_Separated_Files">Reading Separated Files</h3><p>Separated files can be read using an related reader, e.g. an AddressReader:</p><div class="source"><pre class="prettyprint">SeparatedFileService service = getService(new ServiceId("septest", SeparatedFileService .class));
AddressReader reader = new AddressReader(service);
Address address;
while ((address = reader.readRow()&nbsp;= null) {
    System.out.println(address);
}
reader.close();
</pre></div></body></html>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2014
                        <a href="http://www.aludratest.org/">aludratest.org</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
